(()=>{var e={};e.id=82,e.ids=[82],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},4169:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c});var a=r(7096),s=r(6132),n=r(7284),i=r.n(n),o=r(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["csvStepper",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2790)),"D:\\WorkSpaces\\CodeSpaces\\Dynamic_Render_Dev\\nextuidesign\\src\\app\\csvStepper\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5744)),"D:\\WorkSpaces\\CodeSpaces\\Dynamic_Render_Dev\\nextuidesign\\src\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\WorkSpaces\\CodeSpaces\\Dynamic_Render_Dev\\nextuidesign\\src\\app\\csvStepper\\page.jsx"],p="/csvStepper/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/csvStepper/page",pathname:"/csvStepper",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2568:(e,t,r)=>{Promise.resolve().then(r.bind(r,3929))},3929:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Page});var a=r(784),s=r(9885),n=r(9710),i=r(5229),o=r(1583),l=r(417),c=r.n(l),d=r(5523),p=r(1166),u=r.n(p);function CsvImporter({sendDataToPage:e}){let[t,r]=(0,s.useState)([]),[n,i]=(0,s.useState)([]),handleFileUpload=async e=>{let t=e.target.files[0];if(!t)return;let r=new FileReader;r.onload=e=>{let t=e.target.result;parseExcelData(t)},r.readAsText(t)},parseExcelData=t=>{u().parse(t,{complete:t=>{if(t.data&&t.data.length>0){let a=t.data.map(e=>e["Group A"]),s=t.data.map(e=>e["Group B"]);r(a),i(s),e({groupA:a,groupB:s})}},header:!0})};return a.jsx(a.Fragment,{children:a.jsx("div",{children:a.jsx("input",{type:"file",accept:".csv, .xlsx",onChange:handleFileUpload})})})}let x=CsvImporter;var m=r(3783),h=r(8073),v=r(6669),g=r(7882),_=r(5120),j=r.n(_);let b="ITEM",DraggableItem=({item:e,index:t,moveItem:r,columnIndex:s})=>{let[,n]=(0,m.c)({type:b,item:{index:t,columnIndex:s}}),[,i]=(0,h.L)({accept:b,hover:e=>{(e.index!==t||e.columnIndex!==s)&&(r(e.index,t,e.columnIndex,s),e.index=t,e.columnIndex=s)}});return a.jsx("div",{ref:e=>n(i(e)),style:{padding:"8px",margin:"4px",border:"1px solid #ccc"},children:e})},csvMapper=({sendDataToDownload:e,csvData:t})=>{let r=t.groupA.filter(e=>""!==e&&void 0!==e),n=t.groupB.filter(e=>""!==e&&void 0!==e),[i,o]=(0,s.useState)(r),[l,c]=(0,s.useState)(n),[d,p]=(0,s.useState)(i),[u,x]=(0,s.useState)(l),moveItem=(e,t,r,a)=>{let s=0===r?d:u,n=0===a?d:u,i=s[e];s.splice(e,1),n.splice(t,0,i),p([...d]),x([...u])};return(0,s.useEffect)(()=>{d.length>0&&u.length>0&&e({groupA:d,groupB:u})},[d,u]),a.jsx(a.Fragment,{children:a.jsx(v.W,{backend:g.PD,children:a.jsx("div",{className:"wrapper",children:(0,a.jsxs)("table",{className:j()["table-container"],children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Group A"}),a.jsx("th",{children:"Group B"})]})}),a.jsx("tbody",{children:d.map((e,t)=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:a.jsx(DraggableItem,{item:e,index:t,moveItem:moveItem,columnIndex:0})}),a.jsx("td",{children:a.jsx(DraggableItem,{item:u[t],index:t,moveItem:moveItem,columnIndex:1})})]},e))})]})})})})};function CsvDownload({downloadData:e}){let[t,r]=(0,s.useState)(e.groupA),[n,i]=(0,s.useState)(e.groupB);return a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{children:[a.jsx("h2",{children:"download"}),a.jsx("button",{onClick:()=>{let e=[];e.push(["Group A","Group B"]);let r=Math.max(t.length,n.length);for(let a=0;a<r;a++){let r=[];a<t.length?r.push(t[a]):r.push(""),a<n.length?r.push(n[a]):r.push(""),e.push(r)}let a=u().unparse(e),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");i.href=URL.createObjectURL(s),i.setAttribute("download","columns.csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},children:"Download CSV"})]})})}let f=CsvDownload;function Page(){let[e,t]=(0,s.useState)(0),[r,l]=(0,s.useState)(null),[p,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(""),handleNext=()=>{0===e?r?t(1):h("Please import data before proceeding."):1===e&&t(2)},handlePrevious=()=>{1===e?(l(null),t(0)):2===e&&t(1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"pagetitle",children:[a.jsx("h1",{children:"Dashboard"}),a.jsx("nav",{children:(0,a.jsxs)("ol",{className:"breadcrumb",children:[a.jsx("li",{className:"breadcrumb-item",children:a.jsx("a",{href:"/",children:"Home"})}),a.jsx("li",{className:"breadcrumb-item active",children:"CSV Mapping"})]})})]}),a.jsx(n.Z,{children:a.jsx(i.Z,{children:(0,a.jsxs)(o.Z,{md:12,children:[a.jsx(d.Z,{steps:[{title:"Import Csv"},{title:"Mapped Csv"},{title:"Download Csv"}],activeStep:e}),a.jsx("hr",{}),(0,a.jsxs)("div",{className:"step-content",children:[0===e&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(x,{sendDataToPage:e=>{console.log("Data received:",e),l(e),h("")}}),m&&a.jsx("p",{className:"error-message",children:m})]}),1===e&&a.jsx(csvMapper,{sendDataToDownload:e=>{console.log("Data received from mapper:",e),u(e),l(e),h("")},csvData:r}),2===e&&a.jsx(f,{downloadData:p})]}),(0,a.jsxs)("div",{className:c()["button-container"],children:[0===e&&a.jsx("button",{className:c().button,variant:"primary",onClick:handleNext,children:"Next"}),1===e&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{className:c().button,variant:"secondary",onClick:handlePrevious,children:"Previous"}),a.jsx("button",{className:c().button,variant:"primary",onClick:handleNext,children:"Next"})]}),2===e&&a.jsx("button",{className:c().button,variant:"secondary",onClick:handlePrevious,children:"Previous"})]})]})})})]})}},5120:e=>{e.exports={wrapper:"csvMapper_wrapper__PaJk4","table-container":"csvMapper_table-container__dMF1O"}},417:e=>{e.exports={button:"page_button__UFfc4","button-container":"page_button-container__3oarS",step:"page_step__pYK4u",active:"page_active__Z48Gm",dot:"page_dot__tw_FO"}},2790:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var a=r(5153);let s=(0,a.createProxy)(String.raw`D:\WorkSpaces\CodeSpaces\Dynamic_Render_Dev\nextuidesign\src\app\csvStepper\page.jsx`),{__esModule:n,$$typeof:i}=s,o=s.default,l=o},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=r(8531);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,a.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[749,323,524,60],()=>__webpack_exec__(4169));module.exports=r})();